<!DOCTYPE html><html><head><title></title><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">




<link rel="stylesheet" href="../../look.css"><link rel="stylesheet" href="http://django-static.u-strasbg.fr/dipstrap/latest/css/bootstrap-unistra.min.css"><link rel="stylesheet" href="http://django-static.u-strasbg.fr/dipstrap/latest/css/bootstrap-theme-unistra.min.css"><link rel="stylesheet" href="http://django-static.u-strasbg.fr/dipstrap/latest/css/main.css"></head><body><div role="navigation" class="navbar navbar-default navbar-fixed-top"><img src="../../img/unistra-white.png" alt="unistra" class="pull-left"><div class="container"><a href="#" class="navbar-brand"></a></div></div><div style="margin-top: 3em" class="container-fluid"><div class="row-fluid"><div class="col-md-2">
<nav id="TOC"><ul>
<li><a href="#prérequis">Prérequis</a></li>
<li><a href="#préparer-des-modules">Préparer des modules</a><ul>
<li><a href="#installer-les-composants-de-base-sous-debian">installer les composants de base sous debian</a></li>
<li><a href="#créer-un-depot">créer un depot</a></li>
<li><a href="#ajouter-le-depot-sur-un-serveur">ajouter le depot sur un serveur</a></li>
</ul></li>
<li><a href="#lextension-est-importante">l'extension est importante</a></li>
<li><a href="#depot-de-métrosupervision">depot de métro/supervision</a></li>
</ul></nav></div><div class="row-fluid"></div></div><div class="col-md-10"><div class="col-md-10"><h1 id="prérequis">Prérequis</h1>
<pre><code>perldoc perldoc 
perldoc -f require
perldoc -f use</code></pre>
<h1 id="préparer-des-modules">Préparer des modules</h1>
<h2 id="installer-les-composants-de-base-sous-debian">installer les composants de base sous debian</h2>
<p>installer</p>
<pre><code>aptitude search &#39;~n(local-lib-perl|cpanm)&#39;
i   cpanminus                       - script to get, unpack, build and install m
i   liblocal-lib-perl               - module to use a local path for Perl module</code></pre>
<p>interactivement ou dans l'environement du compte de travail:</p>
<pre><code>eval $( perl -Mlocal::lib )</code></pre>
<p>installer Dist::Zilla via CPAN</p>
<pre><code>cpanm Dist::Zilla</code></pre>
<p>dzil pour créer et construire un paquet</p>
<pre><code>dzil new Mon::Module
cd mon-module
# hack hack hack (demander a marc si besoin)
dzil build</code></pre>
<h2 id="créer-un-depot">créer un depot</h2>
<p>ces instructions se basent sur le fait que:</p>
<ul>
<li>j'ai un shell sur www.example.com</li>
<li>je peux modifier le documentroot de cette machine</li>
<li>je veux créer un depot dans un répertoire qq (comme le code actuel d'ubuntu)</li>
</ul>
<p>deplacez vos *deb dans le documentroot de www.example.com puis depuis ce répertoire:</p>
<pre><code>dpkg-scanpackages . | gzip -c9 &gt; Packages.gz</code></pre>
<h2 id="ajouter-le-depot-sur-un-serveur">ajouter le depot sur un serveur</h2>
<h1 id="lextension-est-importante">l'extension est importante</h1>
<p>cat &lt;&lt; EOF &gt; /etc/apt/sources.list.d/whatever.list</p>
<h1 id="depot-de-métrosupervision">depot de métro/supervision</h1>
<p>deb http://www.example.com/qq ./</p>
<p>EOF</p></div></div></div></div></body><script src="../../behave.js"></script><script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script><script src="http://django-static.u-strasbg.fr/dipstrap/latest/js/vendor/jquery-1.11.0.min.js"></script><script src="http://django-static.u-strasbg.fr/dipstrap/latest/js/vendor/bootstrap.min.js"></script></html>